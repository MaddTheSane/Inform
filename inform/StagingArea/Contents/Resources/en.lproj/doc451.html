<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="indoc_WI.css" rel="stylesheet" type="text/css">
    <!--Generated by indoc-->
    <title>27.26. Overriding definitions in kits</title>
    <script type="text/javascript">
            function showExtra(id, imid) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                    document.getElementById(imid).src = 'inform:/doc_images/extra.png';
                } else {
                    document.getElementById(id).style.display = 'block';
                    document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
                }
            }
            function onLoaded() {
                if (window.location.hash) {
                    var hash = window.location.hash.substring(2);
                    if (hash.search("_") >= 0) {
                        var res = hash.split("_");
                        showExample("example"+res[1]);
                    } else {
                        showExample("example"+hash);
                    }
                }
            }
            window.onload=onLoaded;
            function showExample(id) {
                if (document.getElementById(id).style.display == 'block') {
                    document.getElementById(id).style.display = 'none';
                } else {
                    document.getElementById(id).style.display = 'block';
                }
            }
            function openExtra(id, imid) {
                document.getElementById(id).style.display = 'block';
                document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
            }
            function closeExtra(id, imid) {
                document.getElementById(id).style.display = 'none';
                document.getElementById(imid).src = 'inform:/doc_images/extra.png';
            }
    </script>
</head>
<body class="paper papertint">
    <script type="text/javascript">
        function pasteCode(code) {
            var myProject = window.Project;

            myProject.selectView('source');
            myProject.pasteCode(code);
        }
    </script>
    <script type="text/javascript">
        function createNewProject(code, title) {
            var myProject = window.Project;

            myProject.createNewProject(title, code);
        }
    </script>

    <!--SEARCH TITLE "Overriding definitions in kits"-->
    <!--SEARCH SECTION "27.26"-->
    <!--SEARCH SORT "000-027-026-000"-->
    <!--START IGNORE 450-->
    <div class="bookheader">
        <table class="fullwidth midnightblack">
            <tr>
                <td class="midnightbannerleftcell">
                    <a href="doc450.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft"></a>
                </td>
                <td class="midnightbannercentrecell">
                    <a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 27: Extensions</span></a>
                </td>
                <td class="midnightbannerrightcell">
                    <a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup"></a><a href="doc452.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright"></a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
    <p class="sectionheading">ยง27.26. Overriding definitions in kits</p>
    <p>When Go is clicked, Inform translates the I7 source text into a large body of so-called &quot;Inter&quot; code: &quot;Inter&quot; is short for &quot;intermediate&quot;. Large as this program is, it could not survive on its own: it needs a large body of pre-compiled code, also written in Inter, to sustain it. This additional material is organised in blocks called &quot;kits&quot;. Most Inform users never need to know about kits, but for example, a typical Inform project includes kits called BasicInformKit, WorldModelKit and CommandParserKit.</p>
    <p>These kits are compiled from what is (nearly) Inform 6-syntax source code, and for the details of that, see the documentation on the low-level tool &quot;inter&quot;. While it's absolutely possible for Inform users to create and use their own kits, that's beyond the scope of this book. But what we will cover here is the ability to include just a little extra Inter code - perhaps only a few functions or constants.</p>
    <p>In fact, we have seen the necessary syntax already:</p>
    <!--START CODE "c9250"-->
    <blockquote class="code"><p class="quoted"><a id="c9250"></a>Include (- ... -).
    </p>
    </blockquote>
    <!--END CODE-->
    <p>puts the given material &quot;...&quot; into the project. For example:</p>
    <!--START CODE "c9251"-->
    <blockquote class="code"><p class="quoted"><a id="c9251"></a>Include (-
    <br>
    &#160;&#160;&#160;&#160;[ ExtraFunction a b; return a*b; ];
    <br>
    -).
    </p>
    </blockquote>
    <!--END CODE-->
    <p>adds just a single function called &quot;ExtraFunction&quot;.</p>
    <p>And this works fine, but if we tried the same trick to create a function called &quot;SquareRoot&quot;, for example, then the result would be a problem message - because BasicInformKit also defines a function of the same name. This problem message is useful, because it warns us about accidental name clashes.</p>
    <p>But what if the name clash was not an accident at all, and what we actually wanted to give our own definition of &quot;SquareRoot&quot;, to be used instead of the one in BasicInformKit? This is also possible:</p>
    <!--START CODE "c9252"-->
    <blockquote class="code"><p class="quoted"><a id="c9252"></a>Include (-
    <br>
    [ SquareRoot num;
    <br>
    &#160;&#160;&#160;&#160;&quot;Nobody cares about square roots, son.&quot;;
    <br>
    ];
    <br>
    -) replacing &quot;SquareRoot&quot;.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>And now whenever square roots are calculated, this snarky text will be printed, and the result will always be rather meaningless (since this I6 routine always returns 1). Unless one is very careful, the result of replacing kit definitions can be absolute chaos.</p>
    <p>An important historical note: between about 2010 and 2021, kits did not exist, and instead there were &quot;template files&quot; of Inform 6 code which served roughly then same purpose. These had names like &quot;Relations.i6t&quot; or &quot;Mathematics.i6t&quot; and were internally divided into named subsections; and Inform supported syntax like the following:</p>
    <!--START CODE "c9253"-->
    <blockquote class="code"><p class="quoted"><a id="c9253"></a>Include (- ... -) before &quot;Relations.i6t&quot;.
    <br>
    Include (- ... -) instead of &quot;Relations.i6t&quot;.
    <br>
    Include (- ... -) after &quot;Symmetric One To One Relations&quot; in &quot;Relations.i6t&quot;.
    </p>
    </blockquote>
    <!--END CODE-->
    <p>to allow new material to be placed at oddball positions in the final code. There is now no need to worry about the placement of code - Inform's final code generator manages things so that code-ordering issues do not arise; as a result, the &quot;before&quot; and &quot;after&quot; options are now unnecessary. For now, Inform ignores these usages, and just disregards the &quot;before...&quot; or &quot;after...&quot; parts. But in some later version of Inform they will begin to cause problem messages, so writers of extensions using these syntaxes should now please remove them.</p>
    <p>The &quot;instead of&quot; option now cannot work at all, and throws a problem message. The new way to substitute a fresh definition of something built-in is to use the &quot;replacing&quot; notation described above.</p>
    <p>With the demise of the &quot;template layer&quot;, as it was called, another form of so-called &quot;template hacking&quot; has gone with it - the special notation:</p>
    <!--START CODE "c9254"-->
    <blockquote class="code"><p class="quoted"><a id="c9254"></a>Include (- {-segment:MyStuff.i6t} -).
    </p>
    </blockquote>
    <!--END CODE-->
    <p>to allow a whole extra file of Inform 6 code called &quot;MyStuff.i6t&quot; to be pasted in. The new way to do that is to create a new kit, say MyStuffKit, to hold the material in question. This is not hard to do, but beyond the scope of this book. See the documentation on the low-level Inform tool &quot;inter&quot;.</p>
    <hr>
    <!--START IGNORE-->
    <div class="bookfooter">
        <table class="fullwidth">
            <tr>
                <td class="footerprevious">
                    <a href="doc450.html" class="footerlink">Previous</a>
                </td>
                <td class="footercontents">
                    <a href="index.html" class="footerlink">Contents</a>
                </td>
                <td class="footernext">
                    <a href="doc452.html" class="footerlink">Next</a>
                </td>
            </tr>
        </table>
    </div>
    <!--END IGNORE-->
</body>
</html>
